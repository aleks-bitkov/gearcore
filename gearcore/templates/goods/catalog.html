{% extends "base.html" %}
{% load static %}
{% load humanize %}

{% block title %}
  Каталог товарів | GearCore
{% endblock title %}

{% block content %}
<div class="row">
  <!-- Фильтры -->
  <aside class="col-md-3 mb-4">
    <h5 class="mb-3">Фільтри</h5>
    <form method="get" action="{% url "goods:catalog" %}">
      <div class="mb-3">
        <label for="category" class="form-label">Категорія</label>
        <select class="form-select" id="category">
          <option value="">Усі</option>
          <option>Круїзери</option>
          <option>Спортбайки</option>
          <option>Туристичні</option>
          <option>Ендуро</option>
        </select>
      </div>
      <div class="mb-3">
        <label for="priceRange" class="form-label">Ціна</label>
        <input type="range" class="form-range" min="0" max="50000" id="priceRange">
      </div>
      <button type="submit" class="btn btn-outline-light w-100">Застосувати</button>
    </form>
  </aside>

  <!-- Список товаров -->
  <section class="col-md-9">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="mb-0">Товари</h5>
      <select class="form-select w-auto" aria-label="Сортування">
        <option selected>За замовчуванням</option>
        <option value="price_asc">Ціна ↑</option>
        <option value="price_desc">Ціна ↓</option>
      </select>
    </div>

    <!-- Сетка товаров -->
    <div class="row row-cols-1 row-cols-md-3 g-4">
      {% for product in products %}
        <div class="col">
          <div class="card h-100 bg-dark text-light border-secondary">
            <img src="{{ product.main_image.url }}" class="card-img-top" alt="{{ product.name }}">
            <div class="card-body d-flex flex-column">
              <h6 class="card-title">{{ product.name }}</h6>
              <p class="card-text text-muted small">{{ product.description }}</p>
              <div class="mt-auto d-flex justify-content-between align-items-center">
                <span class="fw-bold">{{ product.sell_price|intcomma }} ₴</span>
                <a href="#" class="btn btn-sm btn-outline-light">
                  Детальніше
                </a>
              </div>
            </div>
          </div>
        </div>
      {% empty %}
        <div class="col">
          <p>Наразі товари відсутні.</p>
        </div>
      {% endfor %}
    </div>
  </section>
</div>
{% endblock content %}

