{% load static %}

<div class="container" style="background-color: greenyellow">

  {% if cart.items %}
    <div class="table-responsive">
      <table class="table table-dark table-striped align-middle text-center">
        <thead class="table-secondary text-dark">
        <tr>
          <th scope="col">Фото</th>
          <th scope="col">Назва</th>
          <th scope="col">Ціна</th>
          <th scope="col">Кількість</th>
          <th scope="col">Всього</th>
          <th scope="col">Дія</th>
        </tr>
        </thead>
        <tbody>
        {% for item in cart.items %}
          <tr>
            <td>
              <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}" class="img-thumbnail" style="width: 80px; height: auto;">
            </td>
            <td>{{ item.product.name }}</td>
            <td>{{ item.product.price }} грн</td>
            <td>
              <div class="d-flex justify-content-center align-items-center gap-2">
                <form method="post" action="#">
                  {% csrf_token %}
                  <button type="submit" class="btn btn-sm btn-outline-light">−</button>
                </form>
                <span>{{ item.quantity }}</span>
                <form method="post" action="#">
                  {% csrf_token %}
                  <button type="submit" class="btn btn-sm btn-outline-light">+</button>
                </form>
              </div>
            </td>
            <td>{{ item.total_price }} грн</td>
            <td>
              <form method="post" action="#">
                {% csrf_token %}
                <button type="submit" class="btn btn-sm btn-danger" title="Видалити">
                  <i class="bi bi-trash3-fill"></i>
                </button>
              </form>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div>

    <div class="d-flex justify-content-end align-items-center mt-4">
      <h4 class="me-3">Підсумок: <strong>{{ cart.total_price }} грн</strong></h4>
      <a href="#" class="btn btn-success btn-lg">
        <i class="bi bi-credit-card"></i> Оформити замовлення
      </a>
    </div>

  {% else %}
    <div class="text-center py-5">
      <i class="bi bi-bag-x-fill fs-1 text-muted"></i>
      <h3 class="mt-3">Кошик порожній</h3>
      <p class="text-muted">Знайди щось круте в нашому <a href="{% url 'goods:catalog' %}">каталозі</a></p>
    </div>
  {% endif %}
</div>

